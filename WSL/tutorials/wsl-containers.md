---
title: Introdução ao uso de contêineres do Docker com o subsistema do Windows para Linux
description: Saiba como configurar contêineres do Docker no subsistema do Windows para Linux.
keywords: WSL, Windows, windowssubsystem, Windows 10, Docker, contêineres
ms.date: 08/28/2020
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: cca53f2079e026fbe765ad13cc67722457f83c23
ms.sourcegitcommit: dee2bf22c0c9f5725122a155d2876fcb2b7427d0
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/20/2020
ms.locfileid: "92211780"
---
# <a name="get-started-with-docker-remote-containers-on-wsl-2"></a><span data-ttu-id="4b65e-104">Introdução aos contêineres remotos do Docker no WSL 2</span><span class="sxs-lookup"><span data-stu-id="4b65e-104">Get started with Docker remote containers on WSL 2</span></span>

<span data-ttu-id="4b65e-105">Este guia passo a passo ajudará você a começar a desenvolver com contêineres remotos **Configurando o Docker desktop para Windows com WSL 2** (subsistema do Windows para Linux, versão 2).</span><span class="sxs-lookup"><span data-stu-id="4b65e-105">This step-by-step guide will help you get started developing with remote containers by **setting up Docker Desktop for Windows with WSL 2** (Windows Subsystem for Linux, version 2).</span></span>

<span data-ttu-id="4b65e-106">O Docker desktop para Windows está disponível gratuitamente e fornece um ambiente de desenvolvimento para a criação, o envio e a execução de aplicativos Docker.</span><span class="sxs-lookup"><span data-stu-id="4b65e-106">Docker Desktop for Windows is available for free and provides a development environment for building, shipping, and running dockerized apps.</span></span> <span data-ttu-id="4b65e-107">Habilitando o mecanismo baseado em WSL 2, você pode executar contêineres do Linux e do Windows no Docker desktop no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="4b65e-107">By enabling the WSL 2 based engine, you can run both Linux and Windows containers in Docker Desktop on the same machine.</span></span>

## <a name="overview-of-docker-containers"></a><span data-ttu-id="4b65e-108">Visão geral dos contêineres do Docker</span><span class="sxs-lookup"><span data-stu-id="4b65e-108">Overview of Docker containers</span></span>

<span data-ttu-id="4b65e-109">O Docker é uma ferramenta usada para criar, implantar e executar aplicativos usando contêineres.</span><span class="sxs-lookup"><span data-stu-id="4b65e-109">Docker is a tool used to create, deploy, and run applications using containers.</span></span> <span data-ttu-id="4b65e-110">Os contêineres permitem que os desenvolvedores empacotem um aplicativo com todas as partes necessárias (bibliotecas, estruturas, dependências etc.) e enviem tudo isso como um pacote.</span><span class="sxs-lookup"><span data-stu-id="4b65e-110">Containers enable developers to package an app with all of the parts it needs (libraries, frameworks, dependencies, etc) and ship it all out as one package.</span></span> <span data-ttu-id="4b65e-111">O uso de um contêiner garante que o aplicativo seja executado da mesma forma, independentemente de configurações personalizadas ou das bibliotecas instaladas anteriormente no computador que o executa, que poderiam ser diferentes do computador usado para escrever e testar o código do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4b65e-111">Using a container ensures that the app will run the same regardless of any customized settings or previously installed libraries on the computer running it that could differ from the machine that was used to write and test the app's code.</span></span> <span data-ttu-id="4b65e-112">Isso permite que os desenvolvedores se concentrem em escrever código sem se preocupar com o sistema no qual o código será executado.</span><span class="sxs-lookup"><span data-stu-id="4b65e-112">This permits developers to focus on writing code without worrying about the system that code will be run on.</span></span>

<span data-ttu-id="4b65e-113">Os contêineres do Docker são semelhantes às máquinas virtuais, mas não criam um sistema operacional virtual inteiro.</span><span class="sxs-lookup"><span data-stu-id="4b65e-113">Docker containers are similar to virtual machines, but don't create an entire virtual operating system.</span></span> <span data-ttu-id="4b65e-114">Em vez disso, o Docker permite que o aplicativo use o mesmo kernel do Linux que o sistema em que ele está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="4b65e-114">Instead, Docker enables the app to use the same Linux kernel as the system that it's running on.</span></span> <span data-ttu-id="4b65e-115">Isso permite que o pacote do aplicativo exija apenas as partes que ainda não estão no computador host, reduzindo o tamanho do pacote e melhorando o desempenho.</span><span class="sxs-lookup"><span data-stu-id="4b65e-115">This allows the app package to only require parts not already on the host computer, reducing the package size and improving performance.</span></span>

<span data-ttu-id="4b65e-116">A disponibilidade contínua, usando contêineres do Docker com ferramentas como [Kubernetes](/azure/aks/), é outro motivo para a popularidade dos contêineres.</span><span class="sxs-lookup"><span data-stu-id="4b65e-116">Continuous availability, using Docker containers with tools like [Kubernetes](/azure/aks/), is another reason for the popularity of containers.</span></span> <span data-ttu-id="4b65e-117">Isso permite que várias versões de seu contêiner de aplicativo sejam criadas em momentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="4b65e-117">This enables multiple versions of your app container to be created at different times.</span></span> <span data-ttu-id="4b65e-118">Em vez de precisar desativar um sistema inteiro para atualizações ou manutenção, cada contêiner (e seus microsserviços específicos) pode ser substituído de forma dinâmica.</span><span class="sxs-lookup"><span data-stu-id="4b65e-118">Rather than needing to take down an entire system for updates or maintenance, each container (and it's specific microservices) can be replaced on the fly.</span></span> <span data-ttu-id="4b65e-119">Você pode preparar um novo contêiner com todas as atualizações, configurar o contêiner para produção e apenas apontar para o novo contêiner quando ele estiver pronto.</span><span class="sxs-lookup"><span data-stu-id="4b65e-119">You can prepare a new container with all of your updates, set up the container for production, and just point to the new container once it's ready.</span></span> <span data-ttu-id="4b65e-120">Também é possível arquivar versões diferentes do aplicativo usando contêineres e mantê-los em execução como um fallback de segurança, se necessário.</span><span class="sxs-lookup"><span data-stu-id="4b65e-120">You can also archive different versions of your app using containers and keep them running as a safety fallback if needed.</span></span>

<span data-ttu-id="4b65e-121">Para saber mais, faça checkout da [introdução aos contêineres do Docker](/learn/modules/intro-to-docker-containers/) em Microsoft learn.</span><span class="sxs-lookup"><span data-stu-id="4b65e-121">To learn more, checkout the [Introduction to Docker containers](/learn/modules/intro-to-docker-containers/) on Microsoft Learn.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="4b65e-122">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="4b65e-122">Prerequisites</span></span>

- <span data-ttu-id="4b65e-123">Verifique se o computador está executando o Windows 10, [atualizado para a versão 2004](ms-settings:windowsupdate), **Build 18362** ou superior.</span><span class="sxs-lookup"><span data-stu-id="4b65e-123">Ensure your machine is running Windows 10, [updated to version 2004](ms-settings:windowsupdate), **Build 18362** or higher.</span></span>
- <span data-ttu-id="4b65e-124">[Habilite o WSL, instale uma distribuição do Linux e atualize para o WSL 2](../install-win10.md).</span><span class="sxs-lookup"><span data-stu-id="4b65e-124">[Enable WSL, install a Linux distribution, and update to WSL 2](../install-win10.md).</span></span>
- <span data-ttu-id="4b65e-125">[Baixe e instale o pacote de atualização do kernel do Linux](../install-win10.md#step-4---download-the-linux-kernel-update-package).</span><span class="sxs-lookup"><span data-stu-id="4b65e-125">[Download and install the Linux kernel update package](../install-win10.md#step-4---download-the-linux-kernel-update-package).</span></span>
- <span data-ttu-id="4b65e-126">[Instalar Visual Studio Code](https://code.visualstudio.com/download) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="4b65e-126">[Install Visual Studio Code](https://code.visualstudio.com/download) *(optional)*.</span></span> <span data-ttu-id="4b65e-127">Isso fornecerá a melhor experiência, incluindo a capacidade de codificar e depurar dentro de um contêiner remoto do Docker e conectado à sua distribuição do Linux.</span><span class="sxs-lookup"><span data-stu-id="4b65e-127">This will provide the best experience, including the ability to code and debug inside a remote Docker container and connected to your Linux distribution.</span></span>
- <span data-ttu-id="4b65e-128">[Instale o terminal do Windows](/windows/terminal/get-started) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="4b65e-128">[Install Windows Terminal](/windows/terminal/get-started) *(optional)*.</span></span> <span data-ttu-id="4b65e-129">Isso fornecerá a melhor experiência, incluindo a capacidade de personalizar e abrir vários terminais na mesma interface (incluindo Ubuntu, Debian, PowerShell, CLI do Azure ou o que você preferir usar).</span><span class="sxs-lookup"><span data-stu-id="4b65e-129">This will provide the best experience, including the ability to customize and open multiple terminals in the same interface (including Ubuntu, Debian, PowerShell, Azure CLI, or whatever you prefer to use).</span></span>
- <span data-ttu-id="4b65e-130">[Inscreva-se para obter uma ID do Docker no Hub do Docker](https://hub.docker.com/signup) *(opcional)*.</span><span class="sxs-lookup"><span data-stu-id="4b65e-130">[Sign up for a Docker ID at Docker Hub](https://hub.docker.com/signup) *(optional)*.</span></span>

> [!NOTE]
> <span data-ttu-id="4b65e-131">WSL pode executar distribuições no modo WSL versão 1 ou WSL 2.</span><span class="sxs-lookup"><span data-stu-id="4b65e-131">WSL can run distributions in both WSL version 1 or WSL 2 mode.</span></span> <span data-ttu-id="4b65e-132">Você pode verificar isso abrindo o PowerShell e inserindo: `wsl -l -v` .</span><span class="sxs-lookup"><span data-stu-id="4b65e-132">You can check this by opening PowerShell and entering: `wsl -l -v`.</span></span> <span data-ttu-id="4b65e-133">Verifique se a sua distribuição está definida para usar o WSL 2 digitando: `wsl --set-version  <distro> 2` .</span><span class="sxs-lookup"><span data-stu-id="4b65e-133">Ensure that the your distribution is set to use WSL 2 by entering: `wsl --set-version  <distro> 2`.</span></span> <span data-ttu-id="4b65e-134">Substitua `<distro>` pelo nome do distribuição (por exemplo, Ubuntu 18, 4).</span><span class="sxs-lookup"><span data-stu-id="4b65e-134">Replace `<distro>` with the distro name (e.g. Ubuntu 18.04).</span></span>
> 
> <span data-ttu-id="4b65e-135">No WSL versão 1, devido a diferenças fundamentais entre o Windows e o Linux, o mecanismo do Docker não podia ser executado diretamente dentro do WSL, portanto, a equipe do Docker desenvolveu uma solução alternativa usando VMs do Hyper-V e LinuxKit.</span><span class="sxs-lookup"><span data-stu-id="4b65e-135">In WSL version 1, due to fundamental differences between Windows and Linux, the Docker Engine couldn't run directly inside WSL, so the Docker team developed an alternative solution using Hyper-V VMs and LinuxKit.</span></span> <span data-ttu-id="4b65e-136">No entanto, como o WSL 2 agora é executado em um kernel do Linux com capacidade completa de chamada do sistema, o Docker pode ser executado totalmente no WSL 2.</span><span class="sxs-lookup"><span data-stu-id="4b65e-136">However, since WSL 2 now runs on a Linux kernel with full system call capacity, Docker can fully run in WSL 2.</span></span> <span data-ttu-id="4b65e-137">Isso significa que os contêineres do Linux podem ser executados nativamente sem emulação, resultando em melhor desempenho e interoperabilidade entre suas ferramentas do Windows e do Linux.</span><span class="sxs-lookup"><span data-stu-id="4b65e-137">This means that Linux containers can run natively without emulation, resulting in better performance and interoperability between your Windows and Linux tools.</span></span>

## <a name="install-docker-desktop"></a><span data-ttu-id="4b65e-138">Instalar o Docker Desktop</span><span class="sxs-lookup"><span data-stu-id="4b65e-138">Install Docker Desktop</span></span>

<span data-ttu-id="4b65e-139">Com o back-end WSL 2 com suporte no Docker desktop para Windows, você pode trabalhar em um ambiente de desenvolvimento baseado em Linux e criar contêineres baseados em Linux, ao usar Visual Studio Code para edição e depuração de código e executar o contêiner no navegador Microsoft Edge no Windows.</span><span class="sxs-lookup"><span data-stu-id="4b65e-139">With the WSL 2 backend supported in Docker Desktop for Windows, you can work in a Linux-based development environment and build Linux-based containers, while using Visual Studio Code for code editing and debugging, and running your container in the Microsoft Edge browser on Windows.</span></span>

<span data-ttu-id="4b65e-140">Para instalar o Docker (depois de já [instalar o WSL 2](../install-win10.md)):</span><span class="sxs-lookup"><span data-stu-id="4b65e-140">To install Docker (after already [installing WSL 2](../install-win10.md)):</span></span>

1. <span data-ttu-id="4b65e-141">Baixe o [Docker desktop](https://docs.docker.com/docker-for-windows/wsl/#download) e siga as instruções de instalação.</span><span class="sxs-lookup"><span data-stu-id="4b65e-141">Download [Docker Desktop](https://docs.docker.com/docker-for-windows/wsl/#download) and follow the installation instructions.</span></span>

2. <span data-ttu-id="4b65e-142">Depois de instalado, inicie o Docker desktop no menu Iniciar do Windows e selecione o ícone do Docker no menu de ícones ocultos da barra de tarefas.</span><span class="sxs-lookup"><span data-stu-id="4b65e-142">Once installed, start Docker Desktop from the Windows Start menu, then select the Docker icon from the hidden icons menu of your taskbar.</span></span> <span data-ttu-id="4b65e-143">Clique com o botão direito do mouse no ícone para exibir o menu de comandos do Docker e selecione "configurações".</span><span class="sxs-lookup"><span data-stu-id="4b65e-143">Right-click the icon to display the Docker commands menu and select "Settings".</span></span>
    <span data-ttu-id="4b65e-144">![Ícone painel de área de trabalho do Docker](../media/docker-starting.png)</span><span class="sxs-lookup"><span data-stu-id="4b65e-144">![Docker Desktop dashboard icon](../media/docker-starting.png)</span></span>

3. <span data-ttu-id="4b65e-145">Verifique se "usar o mecanismo baseado em WSL 2" está marcado em **configurações**  >  **geral**.</span><span class="sxs-lookup"><span data-stu-id="4b65e-145">Ensure that "Use the WSL 2 based engine" is checked in **Settings** > **General**.</span></span>
    <span data-ttu-id="4b65e-146">![Configurações gerais do Docker desktop](../media/docker-running.png)</span><span class="sxs-lookup"><span data-stu-id="4b65e-146">![Docker Desktop general settings](../media/docker-running.png)</span></span>

4. <span data-ttu-id="4b65e-147">Selecione as distribuições do WSL 2 instaladas das quais você deseja habilitar a integração com o Docker acessando: **configurações**  >  **recursos**  >  **integração de WSL**.</span><span class="sxs-lookup"><span data-stu-id="4b65e-147">Select from your installed WSL 2 distributions which you want to enable Docker integration on by going to: **Settings** > **Resources** > **WSL Integration**.</span></span>
    <span data-ttu-id="4b65e-148">![Configurações de recurso de área de trabalho do Docker](../media/docker-dashboard.png)</span><span class="sxs-lookup"><span data-stu-id="4b65e-148">![Docker Desktop resource settings](../media/docker-dashboard.png)</span></span>

5. <span data-ttu-id="4b65e-149">Para confirmar se o Docker foi instalado, abra uma distribuição WSL (por exemplo, Ubuntu) e exiba a versão e o número da compilação digitando: `docker --version`</span><span class="sxs-lookup"><span data-stu-id="4b65e-149">To confirm that Docker has been installed, open a WSL distribution (e.g. Ubuntu) and display the version and build number by entering: `docker --version`</span></span>

6. <span data-ttu-id="4b65e-150">Teste se a instalação funciona corretamente executando uma imagem interna do Docker simples usando: `docker run hello-world`</span><span class="sxs-lookup"><span data-stu-id="4b65e-150">Test that your installation works correctly by running a simple built-in Docker image using: `docker run hello-world`</span></span>

> [!TIP]
> <span data-ttu-id="4b65e-151">Aqui estão alguns comandos úteis do Docker para saber:</span><span class="sxs-lookup"><span data-stu-id="4b65e-151">Here are a few helpful Docker commands to know:</span></span>
>
> - <span data-ttu-id="4b65e-152">Liste os comandos disponíveis na CLI do Docker digitando: `docker`</span><span class="sxs-lookup"><span data-stu-id="4b65e-152">List the commands available in the Docker CLI by entering: `docker`</span></span>
> - <span data-ttu-id="4b65e-153">Liste as informações para um comando específico com: `docker <COMMAND> --help`</span><span class="sxs-lookup"><span data-stu-id="4b65e-153">List information for a specific command with: `docker <COMMAND> --help`</span></span>
> - <span data-ttu-id="4b65e-154">Liste as imagens do Docker em seu computador (que é apenas a imagem hello-world neste momento), com: `docker image ls --all`</span><span class="sxs-lookup"><span data-stu-id="4b65e-154">List the docker images on your machine (which is just the hello-world image at this point), with: `docker image ls --all`</span></span>
> - <span data-ttu-id="4b65e-155">Listar os contêineres em seu computador, com: `docker container ls --all` ou `docker ps -a` (sem o sinalizador-a mostrar todos, somente contêineres em execução serão exibidos)</span><span class="sxs-lookup"><span data-stu-id="4b65e-155">List the containers on your machine, with: `docker container ls --all` or `docker ps -a` (without the -a show all flag, only running containers will be displayed)</span></span>
> - <span data-ttu-id="4b65e-156">Listar informações de todo o sistema sobre a instalação do Docker, incluindo estatísticas e recursos (CPU & memória) disponíveis no contexto WSL 2, com: `docker info`</span><span class="sxs-lookup"><span data-stu-id="4b65e-156">List system-wide information regarding the Docker installation, including statistics and resources (CPU & memory) available to you in the WSL 2 context, with: `docker info`</span></span>

## <a name="develop-in-remote-containers-using-vs-code"></a><span data-ttu-id="4b65e-157">Desenvolver em contêineres remotos usando VS Code</span><span class="sxs-lookup"><span data-stu-id="4b65e-157">Develop in remote containers using VS Code</span></span>

<span data-ttu-id="4b65e-158">Para começar a desenvolver aplicativos usando o Docker com o WSL 2, é recomendável usar VS Code, juntamente com a extensão WSL e a extensão do Docker.</span><span class="sxs-lookup"><span data-stu-id="4b65e-158">To get started developing apps using Docker with WSL 2, we recommend using VS Code, along with the Remote-WSL extension and Docker extension.</span></span>

- <span data-ttu-id="4b65e-159">[Instale o vs Code extensão Remote-WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span><span class="sxs-lookup"><span data-stu-id="4b65e-159">[Install the VS Code Remote-WSL extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl).</span></span> <span data-ttu-id="4b65e-160">Essa extensão permite que você abra seu projeto do Linux em execução no WSL no VS Code (não há necessidade de se preocupar com problemas de caminhos, compatibilidade binária ou outros desafios entre sistemas operacionais).</span><span class="sxs-lookup"><span data-stu-id="4b65e-160">This extension enables you to open your Linux project running on WSL in VS Code (no need to worry about pathing issues, binary compatibility, or other cross-OS challenges).</span></span>

- <span data-ttu-id="4b65e-161">[Instale a extensão de Remote-Containers do vs Code](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span><span class="sxs-lookup"><span data-stu-id="4b65e-161">[Install the VS code Remote-Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).</span></span> <span data-ttu-id="4b65e-162">Essa extensão permite que você abra a pasta do projeto ou o repositório dentro de um contêiner, aproveitando o conjunto de recursos completo do Visual Studio Code para fazer seu trabalho de desenvolvimento dentro do contêiner.</span><span class="sxs-lookup"><span data-stu-id="4b65e-162">This extension enables you to open your project folder or repo inside of a container, taking advantage of Visual Studio Code's full feature set to do your development work within the container.</span></span>

- <span data-ttu-id="4b65e-163">[Instale a extensão do docker vs Code](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span><span class="sxs-lookup"><span data-stu-id="4b65e-163">[Install the VS Code Docker extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-docker).</span></span> <span data-ttu-id="4b65e-164">Essa extensão adiciona a funcionalidade para compilar, gerenciar e implantar aplicativos em contêineres de dentro VS Code.</span><span class="sxs-lookup"><span data-stu-id="4b65e-164">This extension adds the functionality to build, manage, and deploy containerized applications from  inside VS Code.</span></span> <span data-ttu-id="4b65e-165">(Você precisa da extensão de Remote-Container para realmente usar o contêiner como seu ambiente de desenvolvimento.)</span><span class="sxs-lookup"><span data-stu-id="4b65e-165">(You need the Remote-Container extension to actually use the container as your dev environment.)</span></span>

<span data-ttu-id="4b65e-166">Vamos usar o Docker para criar um contêiner de desenvolvimento para um projeto de aplicativo existente.</span><span class="sxs-lookup"><span data-stu-id="4b65e-166">Let's use Docker to create a development container for an existing app project.</span></span>

1. <span data-ttu-id="4b65e-167">Para este exemplo, usarei o código-fonte do meu [tutorial de Olá, mundo para Django](/windows/python/web-frameworks#hello-world-tutorial-for-django) no ambiente de desenvolvimento do Python configurar documentos. Você pode ignorar esta etapa se preferir usar seu próprio código-fonte do projeto.</span><span class="sxs-lookup"><span data-stu-id="4b65e-167">For this example, I'll use the source code from my [Hello World tutorial for Django](/windows/python/web-frameworks#hello-world-tutorial-for-django) in the Python development environment set up docs. You can skip this step if you prefer to use your own project source code.</span></span> <span data-ttu-id="4b65e-168">Para baixar meu aplicativo Web do HelloWorld-Django do GitHub, abra um terminal do WSL (Ubuntu, por exemplo) e digite: `git clone https://github.com/mattwojo/helloworld-django.git`</span><span class="sxs-lookup"><span data-stu-id="4b65e-168">To download my HelloWorld-Django web app from GitHub, open a WSL terminal (Ubuntu for example) and enter: `git clone https://github.com/mattwojo/helloworld-django.git`</span></span>

    > [!NOTE]
    > <span data-ttu-id="4b65e-169">Sempre armazene seu código no mesmo sistema de arquivos no qual você está usando ferramentas.</span><span class="sxs-lookup"><span data-stu-id="4b65e-169">Always store your code in the same file system that you're using tools in.</span></span> <span data-ttu-id="4b65e-170">Isso resultará em um desempenho mais rápido de acesso a arquivos.</span><span class="sxs-lookup"><span data-stu-id="4b65e-170">This will result in faster file access performance.</span></span> <span data-ttu-id="4b65e-171">Neste exemplo, estamos usando um Linux distribuição (Ubuntu) e desejamos armazenar nossos arquivos de projeto no sistema de arquivos WSL `\\wsl\` .</span><span class="sxs-lookup"><span data-stu-id="4b65e-171">In this example, we are using a Linux distro (Ubuntu) and want to store our project files on the WSL file system `\\wsl\`.</span></span> <span data-ttu-id="4b65e-172">O armazenamento de arquivos de projeto no sistema de arquivos do Windows reduziria significativamente as coisas ao usar as ferramentas do Linux no WSL para acessar esses arquivos.</span><span class="sxs-lookup"><span data-stu-id="4b65e-172">Storing project files on the Windows file system would significantly slow things down when using Linux tools in WSL to access those files.</span></span>

2. <span data-ttu-id="4b65e-173">No terminal do WSL, altere os diretórios para a pasta de código-fonte deste projeto:</span><span class="sxs-lookup"><span data-stu-id="4b65e-173">From your WSL terminal, change directories to the source code folder for this project:</span></span>

    ```bash
    cd helloworld-django
    ```

3. <span data-ttu-id="4b65e-174">Abra o projeto no VS Code em execução no servidor de extensão de WSL remoto local digitando:</span><span class="sxs-lookup"><span data-stu-id="4b65e-174">Open the project in VS Code running on the local Remote-WSL extension server by entering:</span></span>

    ```bash
    code .
    ```

    <span data-ttu-id="4b65e-175">Confirme se você está conectado ao WSL Linux distribuição verificando o indicador remoto verde no canto inferior esquerdo da sua instância de VS Code.</span><span class="sxs-lookup"><span data-stu-id="4b65e-175">Confirm that you are connected to your WSL Linux distro by checking the green remote indicator in the bottom-left corner of your VS Code instance.</span></span>

    ![Indicador remoto do VS Code WSL](../media/vscode-remote-indicator.png)

4. <span data-ttu-id="4b65e-177">Na VS Code do comando Pallette (Ctrl + Shift + P), digite: **contêineres remotos: abrir pasta no contêiner...** Se esse comando não for exibido conforme você começar a digitá-lo, verifique se você instalou a extensão de contêiner remoto vinculada acima.</span><span class="sxs-lookup"><span data-stu-id="4b65e-177">From the VS Code command pallette (Ctrl + Shift + P), enter: **Remote-Containers: Open Folder in Container...** If this command doesn't display as you begin to type it, check to ensure that you've installed the Remote Container extension linked above.</span></span>

    ![VS Code comando de contêiner remoto](../media/docker-extension.png)

5. <span data-ttu-id="4b65e-179">Selecione a pasta do projeto que você deseja colocar em contêineres.</span><span class="sxs-lookup"><span data-stu-id="4b65e-179">Select the project folder that you wish to containerize.</span></span> <span data-ttu-id="4b65e-180">No meu caso, isso é `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span><span class="sxs-lookup"><span data-stu-id="4b65e-180">In my case, this is `\\wsl\Ubuntu-20.04\home\mattwojo\repos\helloworld-django\`</span></span>

    ![VS Code pasta de contêiner remoto](../media/docker-extension2.png)

6. <span data-ttu-id="4b65e-182">Uma lista de definições de contêiner será exibida, pois não há nenhuma configuração de DevContainer na pasta do projeto (repositório) ainda.</span><span class="sxs-lookup"><span data-stu-id="4b65e-182">A list of container definitions will appear, since there is no DevContainer configuration in the project folder (repo) yet.</span></span> <span data-ttu-id="4b65e-183">A lista de definições de configuração de contêiner que aparece é filtrada com base em seu tipo de projeto.</span><span class="sxs-lookup"><span data-stu-id="4b65e-183">The list of container configuration definitions that appears is filtered based on your project type.</span></span> <span data-ttu-id="4b65e-184">Para meu projeto Django, selecionarei o Python 3.</span><span class="sxs-lookup"><span data-stu-id="4b65e-184">For my Django project, I'll select Python 3.</span></span>

    ![VS Code definições de configuração de contêiner remoto](../media/docker-extension3.png)

7. <span data-ttu-id="4b65e-186">Uma nova instância do VS Code será aberta, começará a criar nossa nova imagem e, depois que a compilação for concluída, iniciará nosso contêiner.</span><span class="sxs-lookup"><span data-stu-id="4b65e-186">A new instance of VS Code will open, begin building our new image, and once the build completed, will start our container.</span></span> <span data-ttu-id="4b65e-187">Você verá que uma nova `.devcontainer` pasta apareceu com informações de configuração de contêiner dentro de `Dockerfile` um `devcontainer.json` arquivo e.</span><span class="sxs-lookup"><span data-stu-id="4b65e-187">You will see that a new `.devcontainer` folder has appeared with container configuration information inside a `Dockerfile` and `devcontainer.json` file.</span></span>  

    ![Pasta VS Code. devcontainer](../media/docker-extension4.png)

8. <span data-ttu-id="4b65e-189">Para confirmar que seu projeto ainda está conectado a ambos os WSL e dentro de um contêiner, abra o terminal integrado VS Code (Ctrl + Shift + ~).</span><span class="sxs-lookup"><span data-stu-id="4b65e-189">To confirm that your project is still connected to both WSL and within a container, open the VS Code integrated terminal (Ctrl + Shift + ~).</span></span> <span data-ttu-id="4b65e-190">Verifique o sistema operacional digitando: `uname` e a versão do Python com: `python3 --version` .</span><span class="sxs-lookup"><span data-stu-id="4b65e-190">Check the operating system by entering: `uname` and the Python version with: `python3 --version`.</span></span> <span data-ttu-id="4b65e-191">Você pode ver que uname voltou a "Linux", então você ainda está conectado ao mecanismo WSL 2 e o número de versão do Python será baseado na configuração do contêiner que pode ser diferente da versão do Python instalada em sua distribuição do WSL.</span><span class="sxs-lookup"><span data-stu-id="4b65e-191">You can see that the uname came back as "Linux", so you are still connected to the WSL 2 engine, and Python version number will be based on the container config that may differ from the Python version installed on your WSL distribution.</span></span>

9. <span data-ttu-id="4b65e-192">Para executar e depurar seu aplicativo dentro do contêiner usando Visual Studio Code, primeiro abra o menu **executar** (Ctrl + Shift + D ou selecione a guia na barra de menus da extrema esquerda).</span><span class="sxs-lookup"><span data-stu-id="4b65e-192">To run and debug your app inside of the container using Visual Studio Code, first open the **Run** menu (Ctrl+Shift+D or select the tab on the far left menu bar).</span></span> <span data-ttu-id="4b65e-193">Em seguida, selecione **executar e depurar** para selecionar uma configuração de depuração e escolha a configuração que melhor suites seu projeto (no meu exemplo, será "Django").</span><span class="sxs-lookup"><span data-stu-id="4b65e-193">Then select **Run and Debug** to select a debug configuration and choose the configuration that best suites your project (in my example, this will be "Django").</span></span> <span data-ttu-id="4b65e-194">Isso criará um `launch.json` arquivo na `.vscode` pasta do seu projeto com instruções sobre como executar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4b65e-194">This will create a `launch.json` file in the `.vscode` folder of your project with instructions on how to run your app.</span></span>

    ![VS Code executar a configuração de depuração](../media/vscode-run-config.png)

10. <span data-ttu-id="4b65e-196">De dentro vs Code, selecione **executar**  >  **Iniciar Depuração** (ou apenas pressione a tecla **F5** ).</span><span class="sxs-lookup"><span data-stu-id="4b65e-196">From inside VS Code, select **Run** > **Start debugging** (or just press the **F5** key).</span></span> <span data-ttu-id="4b65e-197">Isso abrirá um terminal dentro de VS Code e você verá um resultado que diz algo como: "Iniciando o servidor de desenvolvimento em http://127.0.0.1:8000/ sair do servidor com Control-C".</span><span class="sxs-lookup"><span data-stu-id="4b65e-197">This will open a terminal inside VS Code and you should see a result saying something like: "Starting development server at http://127.0.0.1:8000/ Quit the server with CONTROL-C."</span></span> <span data-ttu-id="4b65e-198">Mantenha a tecla Control pressionada e selecione o endereço exibido para abrir seu aplicativo no navegador da Web padrão e veja seu projeto em execução dentro de seu contêiner.</span><span class="sxs-lookup"><span data-stu-id="4b65e-198">Hold down the Control key and select the address displayed to open your app in your default web browser and see your project running inside of its container.</span></span>

    ![VS Code executando um contêiner do Docker](../media/vscode-running-in-container.png)

<span data-ttu-id="4b65e-200">Agora você configurou com êxito um contêiner de desenvolvimento remoto usando o Docker desktop, equipado com o back-end WSL 2, que pode ser codificado, compilado, executado, implantado ou depure usando VS Code!</span><span class="sxs-lookup"><span data-stu-id="4b65e-200">You have now successfully configured a remote development container using Docker Desktop, powered by the WSL 2 backend, that you can code in, build, run, deploy, or debug using VS Code!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="4b65e-201">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="4b65e-201">Troubleshooting</span></span>

### <a name="wsl-docker-context-deprecated"></a><span data-ttu-id="4b65e-202">Contexto do Docker WSL preterido</span><span class="sxs-lookup"><span data-stu-id="4b65e-202">WSL docker context deprecated</span></span>

<span data-ttu-id="4b65e-203">Se você estava usando uma versão prévia de Tech do Docker para WSL, você pode ter um contexto de Docker chamado "WSL" que agora está preterido e não mais usado.</span><span class="sxs-lookup"><span data-stu-id="4b65e-203">If you were using an  early Tech Preview of Docker for WSL, you may have a Docker context called "wsl" that is now deprecated and no longer used.</span></span> <span data-ttu-id="4b65e-204">Você pode verificar com o comando: `docker context ls` .</span><span class="sxs-lookup"><span data-stu-id="4b65e-204">You can check with the command: `docker context ls`.</span></span> <span data-ttu-id="4b65e-205">Você pode remover esse contexto "WSL" para evitar erros com o comando: `docker context rm wsl` como você deseja usar o contexto padrão para Windows e WSL2.</span><span class="sxs-lookup"><span data-stu-id="4b65e-205">You can remove this "wsl" context to avoid errors with the command: `docker context rm wsl` as you want to use the default context for both Windows and WSL2.</span></span>

<span data-ttu-id="4b65e-206">Possíveis erros que você pode encontrar com esse contexto WSL preterido incluem: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` ou `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span><span class="sxs-lookup"><span data-stu-id="4b65e-206">Possible errors you might encounter with this deprecated wsl context include: `docker wsl open //./pipe/docker_wsl: The system cannot find the file specified.` or `error during connect: Get http://%2F%2F.%2Fpipe%2Fdocker_wsl/v1.40/images/json?all=1: open //./pipe/docker_wsl: The system cannot find the file specified.`</span></span>

<span data-ttu-id="4b65e-207">Para obter mais informações sobre esse problema, consulte [como configurar o Docker no sistema Windows para Linux (WSL2) no Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b65e-207">For more on this issue, see [How to set up Docker within Windows System for Linux (WSL2) on Windows 10](https://www.hanselman.com/blog/HowToSetUpDockerWithinWindowsSystemForLinuxWSL2OnWindows10.aspx).</span></span>

### <a name="trouble-finding-docker-image-storage-folder"></a><span data-ttu-id="4b65e-208">Problema ao localizar a pasta de armazenamento de imagem do Docker</span><span class="sxs-lookup"><span data-stu-id="4b65e-208">Trouble finding docker image storage folder</span></span>

<span data-ttu-id="4b65e-209">O Docker cria duas pastas distribuição para armazenar dados:</span><span class="sxs-lookup"><span data-stu-id="4b65e-209">Docker creates two distro folders to store data:</span></span>
- <span data-ttu-id="4b65e-210">\\WSL $ \docker-desktop</span><span class="sxs-lookup"><span data-stu-id="4b65e-210">\\wsl$\docker-desktop</span></span>
- <span data-ttu-id="4b65e-211">\\WSL $ \docker-desktop-data</span><span class="sxs-lookup"><span data-stu-id="4b65e-211">\\wsl$\docker-desktop-data</span></span>

<span data-ttu-id="4b65e-212">Você pode encontrar essas pastas abrindo sua distribuição do WSL Linux e inserindo: `explorer.exe .` para exibir a pasta no explorador de arquivos do Windows.</span><span class="sxs-lookup"><span data-stu-id="4b65e-212">You can find these folders by opening your WSL Linux distribution and entering: `explorer.exe .` to view the folder in Windows File Explorer.</span></span> <span data-ttu-id="4b65e-213">Enter: `\\wsl\<distro name>\mnt\wsl` substituindo `<distro name>` pelo nome da sua distribuição (por ex. Ubuntu-20, 4) para ver essas pastas.</span><span class="sxs-lookup"><span data-stu-id="4b65e-213">Enter: `\\wsl\<distro name>\mnt\wsl` replacing `<distro name>` with the name of your distribution (ie. Ubuntu-20.04) to see these folders.</span></span>

<span data-ttu-id="4b65e-214">Saiba mais sobre como localizar locais de armazenamento do Docker no WSL, consulte esse [problema no repositório do WSL](https://github.com/microsoft/WSL/issues/4176) ou nesta [postagem de StackOverlow](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span><span class="sxs-lookup"><span data-stu-id="4b65e-214">Find more on locating docker storage locations in WSL, see this [issue from the WSL repo](https://github.com/microsoft/WSL/issues/4176) or this [StackOverlow post](https://stackoverflow.com/questions/62380124/where-docker-image-is-stored-with-docker-desktop-for-windows).</span></span>

<span data-ttu-id="4b65e-215">Para obter mais ajuda com problemas de solução de problemas gerais no WSL, consulte o documento de [solução de problemas](../troubleshooting.md) .</span><span class="sxs-lookup"><span data-stu-id="4b65e-215">For more help with general troubleshooting issues in WSL, see the [Troubleshooting](../troubleshooting.md) doc.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4b65e-216">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="4b65e-216">Additional resources</span></span>

- [<span data-ttu-id="4b65e-217">Documentos do Docker: práticas recomendadas para área de trabalho do Docker com WSL 2</span><span class="sxs-lookup"><span data-stu-id="4b65e-217">Docker docs: Best practices for Docker Desktop with WSL 2</span></span>](https://docs.docker.com/docker-for-windows/wsl/#best-practices)
- [<span data-ttu-id="4b65e-218">Comentários para o Docker desktop para Windows: arquivo um problema</span><span class="sxs-lookup"><span data-stu-id="4b65e-218">Feedback for Docker Desktop for Windows: File an issue</span></span>](https://github.com/docker/for-win/issues)
- [<span data-ttu-id="4b65e-219">Blog VS Code: Diretrizes para escolher um ambiente de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="4b65e-219">VS Code Blog: Guidelines for choosing a development environment</span></span>](https://code.visualstudio.com/docs/containers/choosing-dev-environment#_guidelines-for-choosing-a-development-environment)
- [<span data-ttu-id="4b65e-220">Blog VS Code: usando o Docker no WSL 2</span><span class="sxs-lookup"><span data-stu-id="4b65e-220">VS Code Blog: Using Docker in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/03/02/docker-in-wsl2)
- [<span data-ttu-id="4b65e-221">Blog VS Code: usando contêineres remotos no WSL 2</span><span class="sxs-lookup"><span data-stu-id="4b65e-221">VS Code Blog: Using Remote Containers in WSL 2</span></span>](https://code.visualstudio.com/blogs/2020/07/01/containers-wsl)
- [<span data-ttu-id="4b65e-222">Podcast Hanselminutes: tornando o Docker adorável para desenvolvedores com Simon Ferquel</span><span class="sxs-lookup"><span data-stu-id="4b65e-222">Hanselminutes Podcast: Making Docker lovely for Developers with Simon Ferquel</span></span>](https://hanselminutes.com/736/making-docker-lovely-for-developers-with-simon-ferquel)
